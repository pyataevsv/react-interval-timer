(this["webpackJsonpreact-learn"]=this["webpackJsonpreact-learn"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/gong.2f3ef142.mp3"},function(e,t,a){e.exports=a.p+"static/media/three.516d1820.mp3"},function(e,t,a){e.exports=a.p+"static/media/two.f216d58a.mp3"},function(e,t,a){e.exports=a.p+"static/media/one.5eb55970.mp3"},function(e,t,a){e.exports=a.p+"static/media/go.920e4c3c.mp3"},function(e,t,a){e.exports=a.p+"static/media/rest.4b823bed.mp3"},function(e,t,a){e.exports=a.p+"static/media/cheer.826dcaac.mp3"},,,,function(e,t,a){e.exports=a(23)},function(e,t,a){"use strict";a.r(t);var s=a(2),r=a(3),n=a(1),i=a(4),l=a(5),m=a(0),o=a.n(m),c=a(9),u=a.n(c),p=a(7),h=(a(28),a(10)),d=(a(29),a(12)),v=a.n(d),f=a(13),g=a.n(f),w=a(14),E=a.n(w),T=a(15),b=a.n(T),S=a(16),C=a.n(S),k=a(17),y=a.n(k),P=a(18),O=a.n(P),x=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).state={inConfigure:!0,params:{readyTime:"00:10",workTime:"00:30",restTime:"00:15",sets:"5",reps:"3",repsRest:"00:30"},timer:{workTime:"",restTime:"",sets:"",reps:"",repsRest:"",status:""},allTime:0},r.paramsChange=r.paramsChange.bind(Object(n.a)(r)),r.firstTimerOpen=!0,r}return Object(r.a)(a,[{key:"paramsChange",value:function(e,t){var a=this.state;a.params[e]=t,this.setState(a)}},{key:"renderTimer",value:function(){this.currentUserSetting=this.state.timer,this.setState({inConfigure:!this.state.inConfigure})}},{key:"startTimer",value:function(){this.firstTimerOpen&&(this.startParams={readyTime:A(this.state.params.readyTime),workTime:A(this.state.params.workTime),restTime:A(this.state.params.restTime),sets:this.state.params.sets,reps:this.state.params.reps,repsRest:A(this.state.params.repsRest),status:"readyTime"},this.newState={readyTime:A(this.state.params.readyTime),workTime:A(this.state.params.workTime),restTime:A(this.state.params.restTime),sets:this.state.params.sets,reps:this.state.params.reps,repsRest:A(this.state.params.repsRest),status:"readyTime"},this.firstTimerOpen=!this.firstTimerOpen,this.allTime=this.startParams.readyTime+(this.startParams.sets*this.startParams.workTime+this.startParams.restTime*(this.startParams.sets-1))*this.startParams.reps+this.startParams.repsRest*(this.startParams.reps-1)),this.clear=!1,this.runTimer()}},{key:"runTimer",value:function(){var e=this;new Promise((function(t){if(0!==e.newState.sets&&0!==e.newState.reps)return e.timer(e.newState,e.newState.status,e.foo,t)})).then((function(t){"readyTime"===t&&(e.newState.status="workTime",e.runTimer()),"workTime"===t&&(e.newState.sets--,e.newState.sets>0?(e.newState.restTime=e.startParams.restTime,e.newState.status="restTime",e.runTimer()):(e.newState.reps--,e.newState.reps>0?(e.newState.sets=e.startParams.sets,e.newState.status="repsRest",e.runTimer()):e.foo(e.newState))),"restTime"===t&&(e.newState.status="workTime",e.newState.workTime=e.startParams.workTime,e.runTimer()),"repsRest"===t&&(e.newState.repsRest=e.startParams.repsRest,e.newState.sets=e.startParams.sets,e.newState.restTime=e.startParams.restTime,e.newState.workTime=e.startParams.workTime,e.newState.status="workTime",e.runTimer())}))}},{key:"timer",value:function(e,t,a,s){var r=this,n=Date.now(),i=n+1e3*e[t];e[t]=Math.round((i-n)/1e3),this.foo(e);var l=setInterval((function(){if(!0!==r.clear){var a=Math.round((i-Date.now())/1e3);return e[t]=a,r.allTime--,r.foo(e),a<=0?(clearInterval(l),s(t)):void 0}clearInterval(l)}),1e3)}},{key:"foo",value:function(e){var t=this.state;t.timer=e,this.setState(t);var a=this.state;a.allTime=this.allTime,this.setState(a)}},{key:"stopStart",value:function(){this.clear=!this.clear}},{key:"renderParmas",value:function(){if(window.confirm("shure?")){var e=this.state;e.timer=this.currentUserSetting,e.inConfigure=!this.state.inConfigure,this.clear=!0,this.firstTimerOpen=!0,this.setState(e)}}},{key:"render",value:function(){var e,t=this;return e=this.state.inConfigure?o.a.createElement(N,{isConfChange:function(){return t.renderTimer()},setParam:this.paramsChange,params:this.state.params}):o.a.createElement(j,{isConfChange:function(){return t.renderParmas()},startTimer:function(){return t.startTimer()},timerState:this.state.timer,timerSettings:this.state.params,allTime:this.state.allTime,stopStart:function(){return t.stopStart()}}),o.a.createElement("div",{className:"timer-app"},e)}}]),a}(o.a.Component),j=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).state={pauseName:"PAUSE"},r.stopStart=r.stopStart.bind(Object(n.a)(r)),document.addEventListener("visibilitychange",(function(){console.log(document.hidden),document.hidden&&"GO"!==r.state.pauseName&&r.stopStart()})),r}return Object(r.a)(a,[{key:"componentWillUnmount",value:function(){console.log("unmount")}},{key:"stopStart",value:function(){var e="PAUSE"===this.state.pauseName?"GO":"PAUSE";this.setState({pauseName:e}),this.props.stopStart(),"PAUSE"===e&&this.props.startTimer()}},{key:"showCountDown",value:function(){switch(this.props.timerState.status){case"workTime":return this.props.timerState.workTime;case"restTime":return this.props.timerState.restTime;case"repsRest":return this.props.timerState.repsRest;case"readyTime":return this.props.timerState.readyTime;default:return}}},{key:"showProgress",value:function(){var e=this.props.timerState.status;return e?100-A(100*(this.props.timerState[e]-1))/A(this.props.timerSettings[e]):1}},{key:"getllTimeProgress",value:function(){var e=A(this.props.timerSettings.readyTime)+(this.props.timerSettings.sets*A(this.props.timerSettings.workTime)+A(this.props.timerSettings.restTime)*(this.props.timerSettings.sets-1))*this.props.timerSettings.reps+A(this.props.timerSettings.repsRest)*(this.props.timerSettings.reps-1),t=100*(1-this.props.allTime/e);return t<3?3:t}},{key:"componentDidMount",value:function(){this.props.startTimer(),console.log("mount")}},{key:"showStatus",value:function(){if(0===this.props.allTime)return"DONE";switch(this.props.timerState.status){case"workTime":return"GO";case"readyTime":return"READY";case"restTime":return"REST";case"repsRest":return"NEW REP";default:return""}}},{key:"render",value:function(){var e,t=this;3===this.showCountDown()?e=o.a.createElement("audio",{src:g.a,autoPlay:!0}):2===this.showCountDown()?e=o.a.createElement("audio",{src:E.a,autoPlay:!0}):1===this.showCountDown()?e=o.a.createElement("audio",{src:b.a,autoPlay:!0}):"repsRest"===this.props.timerState.status?e=o.a.createElement("audio",{src:v.a,autoPlay:!0}):"workTime"===this.props.timerState.status?e=o.a.createElement("audio",{src:C.a,autoPlay:!0}):"restTime"===this.props.timerState.status&&(e=o.a.createElement("audio",{src:y.a,autoPlay:!0})),0===this.showCountDown()&&(e=o.a.createElement("audio",{src:O.a,autoPlay:!0}));var a=o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#5d5d5d",width:"30px",height:"30px"},o.a.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),s=o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#5d5d5d",width:"30px",height:"30px"},o.a.createElement("path",{d:"M8 5v14l11-7z"}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}));"PAUSE"===this.state.pauseName?this.icon=a:this.icon=s;var r={width:String(this.getllTimeProgress())+"%"};return o.a.createElement("div",{className:"timer-wrapper"},e,o.a.createElement("div",{className:"timer-progress"},o.a.createElement(h.a,{value:this.showProgress(),styles:Object(h.b)({rotation:.5,textSize:"16px",pathTransitionDuration:1,pathColor:"#5cc7d8",textColor:"#f88",trailColor:"rgba(251, 255, 255, 0.61)",backgroundColor:"#fbffff"})},o.a.createElement("div",{className:"progress-out-circle"},o.a.createElement("div",{className:"progress-status"},this.showStatus()),o.a.createElement("div",{className:"progress-countdown"},U(this.showCountDown()))))),o.a.createElement("div",{className:"all-progress-bar"},o.a.createElement("div",{className:"setsreps-progress"},o.a.createElement("div",null,o.a.createElement("div",{className:"sets-reps"},"Sets: ",o.a.createElement("span",null,this.props.timerState.sets),"/",o.a.createElement("span",null,this.props.timerSettings.sets))),o.a.createElement("div",null,o.a.createElement("div",null,"Reps: ",o.a.createElement("span",null,this.props.timerState.reps),"/",o.a.createElement("span",null,this.props.timerSettings.reps)))),o.a.createElement("div",null,o.a.createElement("div",{className:"timecount-box"},o.a.createElement("div",null,"Time:"),o.a.createElement("div",null,o.a.createElement("span",null,U(this.props.allTime)))),o.a.createElement("div",{className:"alltime-progressbar"},o.a.createElement("div",{className:"progress-line",style:r})))),o.a.createElement("div",{className:"btn-box"},o.a.createElement("button",{className:"timer-btn",onClick:this.stopStart},this.icon),o.a.createElement("button",{className:"timer-btn",onClick:function(){return t.props.isConfChange()}},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#5d5d5d",width:"30px",height:"30px"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M6 6h12v12H6z"})))))}}]),a}(o.a.Component),N=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"config-wrapper"},o.a.createElement("div",null,o.a.createElement("h1",null,"Interval timer")),o.a.createElement("div",{className:"setting-box"},o.a.createElement(R,{setParam:this.props.setParam,params:this.props.params}),o.a.createElement(D,{setParam:this.props.setParam,params:this.props.params}),o.a.createElement(V,{setParam:this.props.setParam,params:this.props.params}),o.a.createElement(M,{setParam:this.props.setParam,params:this.props.params}),o.a.createElement(z,{setParam:this.props.setParam,params:this.props.params})),o.a.createElement("div",null,o.a.createElement("button",{className:"start-btn",onClick:function(){return e.props.isConfChange()}},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"30px",height:"30px"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"})))))}}]),a}(o.a.Component),R=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).sliderChange=r.sliderChange.bind(Object(n.a)(r)),r.sliderDefaultValue=A(r.props.params.workTime),r}return Object(r.a)(a,[{key:"sliderChange",value:function(e){this.props.setParam("workTime",U(e.target.getAttribute("aria-valuenow")))}},{key:"step",value:function(){return A(this.props.params.workTime)<60?5:1}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"set-name-box"},o.a.createElement("div",null,"Work"),o.a.createElement("div",null,this.props.params.workTime)),o.a.createElement("div",{className:"slider-box"},o.a.createElement(p.a,{defaultValue:this.sliderDefaultValue,onChange:this.sliderChange,scale:function(e){return e<60?e:10*e-540},step:this.step(),min:5,max:120})))}}]),a}(o.a.Component),D=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).sliderChange=r.sliderChange.bind(Object(n.a)(r)),r.sliderDefaultValue=A(r.props.params.restTime),r}return Object(r.a)(a,[{key:"sliderChange",value:function(e){this.props.setParam("restTime",U(e.target.getAttribute("aria-valuenow")))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"set-name-box"},o.a.createElement("div",null,"Rest"),o.a.createElement("div",null,this.props.params.restTime)),o.a.createElement("div",{className:"slider-box"},o.a.createElement(p.a,{defaultValue:this.sliderDefaultValue,onChange:this.sliderChange,scale:function(e){return e},step:1,min:5,max:120})))}}]),a}(o.a.Component),V=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).sliderChange=r.sliderChange.bind(Object(n.a)(r)),r.sliderDefaultValue=r.props.params.sets,r}return Object(r.a)(a,[{key:"sliderChange",value:function(e){this.props.setParam("sets",e.target.getAttribute("aria-valuenow"))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"set-name-box"},o.a.createElement("div",null,"Sets"),o.a.createElement("div",null,this.props.params.sets)),o.a.createElement("div",{className:"slider-box"},o.a.createElement(p.a,{defaultValue:this.sliderDefaultValue,onChange:this.sliderChange,scale:function(e){return e},step:1,min:1,max:20})))}}]),a}(o.a.Component),M=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).sliderChange=r.sliderChange.bind(Object(n.a)(r)),r.sliderDefaultValue=r.props.params.reps,r}return Object(r.a)(a,[{key:"sliderChange",value:function(e){this.props.setParam("reps",e.target.getAttribute("aria-valuenow"))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"set-name-box"},o.a.createElement("div",null,"Reps"),o.a.createElement("div",null,this.props.params.reps)),o.a.createElement("div",{className:"slider-box"},o.a.createElement(p.a,{defaultValue:this.sliderDefaultValue,onChange:this.sliderChange,scale:function(e){return e},step:1,min:1,max:10})))}}]),a}(o.a.Component),z=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).sliderChange=r.sliderChange.bind(Object(n.a)(r)),r.sliderDefaultValue=A(r.props.params.repsRest),r}return Object(r.a)(a,[{key:"sliderChange",value:function(e){this.props.setParam("repsRest",U(e.target.getAttribute("aria-valuenow")))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"set-name-box"},o.a.createElement("div",null,"Reps rest"),o.a.createElement("div",null,this.props.params.repsRest)),o.a.createElement("div",{className:"slider-box"},o.a.createElement(p.a,{defaultValue:this.sliderDefaultValue,onChange:this.sliderChange,scale:function(e){return e},step:1,min:5,max:120})))}}]),a}(o.a.Component);function A(e){return"number"==typeof e?e:60*Number(e.match(/^.*(?=:)/))+Number(e.match(/(?<=:).*$/))}function U(e){var t=Math.floor(e/60),a=e%60;return 1===String(t).length?"0"+String(t)+":"+String(a<10?"0"+a:a):String(t)+":"+String(a<10?"0"+a:a)}u.a.render(o.a.createElement(x,null),document.getElementById("root"))},,,,,function(e,t,a){}],[[22,1,2]]]);
//# sourceMappingURL=main.5af2a819.chunk.js.map